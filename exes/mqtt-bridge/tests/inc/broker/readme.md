Copied from b859411b2d6ec153fa2736641ee9f238c02ede77
See discussion: https://github.com/redboltz/async_mqtt/issues/314
